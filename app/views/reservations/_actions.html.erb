<% if can? :crud, reservation %>
  <% unless reservation.status.approved? %>
    <%= link_to raw('<span class="glyphicon glyphicon-edit"></span> Edit'), edit_partner_reservation_path(@partner, reservation), class: "btn btn-default btn-xs", remote: true %>
    <%= link_to raw('<i class="glyphicon glyphicon-trash"></i> Delete'), partner_reservation_path(@partner, reservation), class: 'btn btn-xs btn-danger', data: {confirm: 'Are you sure?'}, remote: true, method: :delete %>
  <% end %>
<% elsif can? :change_status, reservation %>
  <%= link_to raw('<span class="glyphicon glyphicon-ok"></span> Approve'), approve_partner_reservation_path(@partner, reservation), class: "btn btn-success btn-xs", remote: true %>
  <%= link_to raw('<i class="glyphicon glyphicon-remove"></i> Disapprove'), disapprove_partner_reservation_path(@partner, reservation), class: 'btn btn-xs btn-danger', remote: true %>
<% end %>

